<?xml version="1.0" encoding="utf-8"?>
<s:Application xmlns:fx="http://ns.adobe.com/mxml/2009"
               xmlns:s="library://ns.adobe.com/flex/spark"
               xmlns:mx="library://ns.adobe.com/flex/mx"
               xmlns:nodal="com.github.ciacob.flexnodal.ui.*"
               minWidth="800" minHeight="600"
               creationComplete="onCreationComplete()">

    <fx:Script>
        <![CDATA[
        import com.github.ciacob.flexnodal.events.EnvelopeEvent;

        [Bindable]
        private var testParams:Array;

        private function onCreationComplete():void {
            testParams = [
                { name: "Param A", color: 0xFF0000, visible: true, locked: false, values: [null, 50, null, 80], type: "input" },
                { name: "Param B", color: 0x00FF00, visible: true, locked: false, values: [null, 20, null, 60], type: "input" }
            ];
        }

        private function onParamChange(e:EnvelopeEvent):void {
            trace("[Tester] Parameter change:", e.payload);
        }

        private function onNodesChange(e:EnvelopeEvent):void {
            trace("[Tester] Nodes change:", e.payload);
        }
        ]]>
    </fx:Script>

    <s:VGroup width="100%" height="100%" gap="10" paddingTop="10" paddingLeft="10" paddingRight="10">
        <nodal:EnvelopeEditor width="100%" height="100%"
                              parameters="{testParams}"
                              parameterChange="onParamChange(event)"
                              nodesChange="onNodesChange(event)"/>
    </s:VGroup>

</s:Application>
